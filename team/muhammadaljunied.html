<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="Asciidoctor 1.5.6.1"><title>Muhammad Aljunied - Project Portfolio</title><link rel="stylesheet" href="../stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="../stylesheets/coderay-asciidoctor.css"></head><body class="article"><div id="seedu-header"><nav class="navbar navbar-lg navbar-light bg-lighter"><div class="container"><a class="navbar-brand" href="https://se-edu.github.io/"><img src="../images/SeEduLogo.png" alt="SE-EDU"></a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/addressbook-level1">AB-1</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/addressbook-level2">AB-2</a></li><li class="nav-item"><a class="nav-link active" href="../index.html">AB-3</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/addressbook-level4">AB-4</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/collate">Collate</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/se-book">Book</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/learningresources">Resources</a></li></ul></div></nav></div><div id="site-header"><nav class="navbar navbar-light bg-light"><div class="container"><a class="navbar-brand" href="../index.html">MYMorise</a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="../UserGuide.html">User Guide</a></li><li class="nav-item"><a class="nav-link" href="../DeveloperGuide.html">Developer Guide</a></li><li class="nav-item"><a class="nav-link" href="../LearningOutcomes.html">LOs</a></li><li class="nav-item"><a class="nav-link active" href="../AboutUs.html">About Us</a></li><li class="nav-item"><a class="nav-link" href="../ContactUs.html">Contact Us</a></li><li class="navitem"><a class="nav-link" href="https://github.com/AY1920S1-CS2103-T14-4/main"><span class="fa fa-github fa-lg" aria-hidden="true"></span>&nbsp;View on GitHub</a></li></ul></div></nav></div><div id="header"><h1>Muhammad Aljunied - Project Portfolio</h1></div><div id="content"><div class="sect1">
<h2 id="project-mymorise"><a class="link" href="#project-mymorise">PROJECT: MyMorise</a></h2>
<div class="sectionbody">
<hr>
</div>
</div>
<div class="sect1">
<h2 id="overview"><a class="link" href="#overview">Overview</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>MYMorise — Manage Your Money(MYM) is a desktop application for those who prefer tracking personal expenses on their
computers. With MYMorise, you can easily see your daily expenses as well as a summary, along with other useful functionalities.
More importantly, MYMorise is optimized for those who prefer to work with Command Line Interface (CLI) while still
having the benefits of a Graphical User Interface (GUI) created with JavaFX. It is written in Java, and has about 20 kLoC.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="summary-of-contributions"><a class="link" href="#summary-of-contributions">Summary of contributions</a></h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><strong>Major enhancement</strong>: added <strong>the ability for expenses in foreign currencies to be stored and converted</strong></p>
<div class="ulist">
<ul>
<li>
<p>What it does: when an expense is added to MyMorise, the system can automatically convert the amount specified in the expense relative to the currency that was specified in the expense.</p>
</li>
<li>
<p>Justification: This feature improves user experience significantly for managing expenses as the user no longer needs to convert a foreign currency manually back into their home(base) currency.</p>
</li>
<li>
<p>Highlights: This enhancement affects 80% of all functionality of the application as all amounts added to the system may need to be converted to ensure correct computations.
This required careful planning as as soon as it is implemented, I anticipated a large number of regressions from existing implementations as well as regressions as the other components of the app are implemented.
The exchange rate for converting the expense&#8217;s amount from its base amount to the specified currency is retrieved from the exchange data and stored together with the Expense.
The reason for this is to ensure that an expense retains its converted value based on the rate at the time it was added, regardless of when the computation is being done.
As currecy exchange rates are non-constant data, there is a small dependence on retrieving more updated data by making an API call in the form of a HTTP GET request to a publicly available endpoint.
To ensure MyMorise remains responsive while the call is made, the HTTP Request is executed asynchronously with a strict 5 second timeout (a successful request should not take longer than 5 seconds).
The fallback in poor/lack of internet conditions is a pre-loaded exchange rate stored in JSON. A successful response stores the exchange rate to the file system for the next run to use if there is no internet connection in subsequent runs, which mitigates conversion-error margins slightly.</p>
</li>
<li>
<p>Credits: <em>The idea to add it came from a "if I was using this app" brainstorming session, however I must credit Budgeting/Finance Apps I had downloaded on Android that I played around, specifically <a href="http://wally.me/">WallyNext</a></em></p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Minor enhancement</strong>: added support for storing currencies.</p>
</li>
<li>
<p><strong>Code contributed</strong>: [<a href="https://nus-cs2103-ay1920s1.github.io/tp-dashboard/#search=aljunied&amp;sort=groupTitle&amp;sortWithin=title&amp;since=2019-09-06&amp;timeframe=commit&amp;mergegroup=false&amp;groupSelect=groupByRepos&amp;breakdown=false&amp;tabOpen=true&amp;tabType=authorship&amp;tabAuthor=muhammadaljunied&amp;tabRepo=AY1920S1-CS2103-T14-4%2Fmain%5Bmaster%5D">Functional code</a>] [<a href="https://nus-cs2103-ay1920s1.github.io/tp-dashboard/#search=aljunied&amp;sort=groupTitle&amp;sortWithin=title&amp;since=2019-09-06&amp;timeframe=commit&amp;mergegroup=false&amp;groupSelect=groupByRepos&amp;breakdown=false&amp;tabOpen=true&amp;tabType=authorship&amp;tabAuthor=muhammadaljunied&amp;tabRepo=AY1920S1-CS2103-T14-4%2Fmain%5Bmaster%5D">Test code</a>]</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="prs"><a class="link" href="#prs">PRs</a></h4>
<div class="ulist">
<ul>
<li>
<p>UG &amp; DG edits
<a href="https://github.com/AY1920S1-CS2103-T14-4/main/pull/12">#12</a>,
<a href="https://github.com/AY1920S1-CS2103-T14-4/main/pull/84">#84</a>,</p>
</li>
<li>
<p>Implement Currency to Expense
<a href="https://github.com/AY1920S1-CS2103-T14-4/main/pull/64">#64</a>,
<a href="https://github.com/AY1920S1-CS2103-T14-4/main/pull/77">#77</a>,</p>
</li>
<li>
<p>Bugfixes
<a href="https://github.com/AY1920S1-CS2103-T14-4/main/pull/144">#144</a>,
<a href="https://github.com/AY1920S1-CS2103-T14-4/main/pull/150">#150</a>,
<a href="https://github.com/AY1920S1-CS2103-T14-4/main/pull/156">#156</a>,
<a href="https://github.com/AY1920S1-CS2103-T14-4/main/pull/159">#159</a>,
<a href="https://github.com/AY1920S1-CS2103-T14-4/main/pull/161">#161</a>,
<a href="https://github.com/AY1920S1-CS2103-T14-4/main/pull/163">#163</a>
<a href="https://github.com/AY1920S1-CS2103-T14-4/main/pull/165">#165</a></p>
</li>
<li>
<p>Exchange data http support
<a href="https://github.com/AY1920S1-CS2103-T14-4/main/pull/145">#145</a></p>
</li>
<li>
<p>UI Edits
<a href="https://github.com/AY1920S1-CS2103-T14-4/main/pull/147">#147</a></p>
</li>
<li>
<p>Refactors for team
<a href="https://github.com/AY1920S1-CS2103-T14-4/main/pull/149">#149</a></p>
</li>
<li>
<p>Testcases
<a href="https://github.com/AY1920S1-CS2103-T14-4/main/pull/7156">#156</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-user-guide"><a class="link" href="#contributions-to-the-user-guide">Contributions to the User Guide</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Initial format and structure of user guide together with all discussed User Stories</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-developer-guide"><a class="link" href="#contributions-to-the-developer-guide">Contributions to the Developer Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given below are sections I contributed to the Developer Guide. They showcase my ability to write technical documentation and the technical depth of my contributions to the project.</em></p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="Design-Model"><a class="link" href="#Design-Model">Model component</a></h3>
<div class="imageblock">
<div class="content">
<img src="../images/ModelClassDiagram.png" alt="ModelClassDiagram">
</div>
<div class="title">Figure 1. Structure of the Model Component</div>
</div>
<div class="paragraph">
<p><strong>API</strong> : <a href="{repoURL}/src/main/java/seedu/address/model/Model.java"><code>Model.java</code></a></p>
</div>
<div class="paragraph">
<p>The <code>Model</code>,</p>
</div>
<div class="ulist">
<ul>
<li>
<p>stores a <code>UserPref</code> object that represents the user&#8217;s preferences.</p>
</li>
<li>
<p>stores a <code>BudgetList</code> object that represents the user&#8217;s budgets.</p>
</li>
<li>
<p>stores an <code>ExpenseList</code> object that represents the user&#8217;s untagged expenses.</p>
</li>
<li>
<p>stores an <code>ExchangeData</code> object that represents the foreign exchange rates for conversion of currencies.</p>
</li>
<li>
<p>exposes an unmodifiable <code>ObservableList&lt;Expense&gt;</code> and an unmodifiable <code>ObservableList&lt;Budget&gt;</code> that can be 'observed' e.g. the UI can be bound to either list so that the UI automatically updates when the data in the list change.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="Design-Storage"><a class="link" href="#Design-Storage">Storage component</a></h3>
<div class="imageblock">
<div class="content">
<img src="../images/StorageClassDiagram.png" alt="StorageClassDiagram">
</div>
<div class="title">Figure 2. Structure of the Storage Component</div>
</div>
<div class="paragraph">
<p><strong>API</strong> : <a href="{repoURL}/src/main/java/seedu/address/storage/Storage.java"><code>Storage.java</code></a></p>
</div>
<div class="paragraph">
<p>The <code>Storage</code> component,</p>
</div>
<div class="ulist">
<ul>
<li>
<p>can save <code>UserPref</code> objects in json format and read it back.</p>
</li>
<li>
<p>can save <code>Budget</code> objects in json format and read it back.</p>
</li>
<li>
<p>can save <code>Expense</code> objects in json format and read it back.</p>
</li>
<li>
<p>can read <code>Exchange</code> objects in json format.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="currency-conversion"><a class="link" href="#currency-conversion">Currency Conversion</a></h3>
<div class="sect3">
<h4 id="implementation"><a class="link" href="#implementation">Implementation</a></h4>
<div class="paragraph">
<p>The Currency conversion is achieved by having a default base currency that all expenses and budgets use if one is not specified. The expenses that are stored
with a different currency can be converted from the base currency and back. Every time a currency is specified, the present day exchange rate is stored with the expense. This
is to ensure that the expense value is timeless.</p>
</div>
<div class="paragraph">
<p>This was implemented in the <code>java.seedu.address.model.exchangedata</code> package, which contains <code>ExchangeDataSingleton</code>, <code>ExchangeData</code>, and <code>Rates</code>. These classes facilitate retrieval of exchange rates that will be requested from various parts of the app, namely <code>Expense</code> and <code>Budget</code>.</p>
</div>
<div class="paragraph">
<p><strong>Step 1</strong>
The foreign currency exchange rates are downloaded for the app to use from <a href="http://exchangeratesapi.io/">ExchangeRatesAPI.io</a> using their endpoint <code><a href="https://api.exchangeratesapi.io/latest?base=SGD" class="bare">https://api.exchangeratesapi.io/latest?base=SGD</a></code>. The endpoint returns the data in JSON format, which works well with the existing JSON based storage used for <code>Expense</code> and <code>Budget</code>. This was implemented in the <code>java.seedu.address.commons.utils</code> package containing <code>HttpsClientUtil</code> which facilitates the Asynchronous calls to the endpoint to update the local copy of the foreign currency exchange rates upon app startup.</p>
</div>
<div class="paragraph">
<p><strong>Step 2</strong>
The JSON response is persisted on disk. A default data-set of exchange rates will be generated at runtime (but not stored) in the case of unstable or no internet access if one is not yet present. If one was present however a more recent one could not be downloaded, the existing data will be reused.</p>
</div>
<div class="paragraph">
<p><strong>Step 3</strong>
If the exchange data is present as a JSON, it will first be loaded into its JSON reflection class <code>JsonAdaptedExchangeData</code> which depends on <code>JsonAdaptedRates</code>. These classes assist in the conversions of the JSON to the Model Class <code>ExchangeData</code>.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Presently, ExchangeData is also stored in the StorageManager which was intended to be used to store multiple instances of ExchangeData to load historical exchange rates when the user does an edit, however this proved to be infeasible to implement within the course of the project.</pre>
</div>
</div>
<div class="paragraph">
<p><strong>Step 4</strong>
The <code>ExchangeDataSingleton</code> is updated with the new  <code>ExchangeData</code> using the <code>ExchangeDataSingleton#updateInstance</code>. The reason for using the Singleton pattern in this case was to ensure that one and only one instance of <code>ExchangeData</code> is being referenced to retrieve data at any point in time. Since it is also required to be accessed by <code>Expense</code> and <code>Budget</code>.</p>
</div>
<div class="paragraph">
<p><strong>Step 5</strong>
Conversions are done in <code>Expense#getConvertedAmount</code> for conversion back into the base currency (SGD) and <code>Expense#getConvertedAmount(Currency currency)</code> for conversions to any other currency. As most transactions in the app that require the conversion of currency involve an expense (including recomputing <code>amountLeft</code> of <code>Budget</code>), the computation is done in the expense. The following are the instance where the currency is converted:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Whenever an expense is displayed on the <code>ExpenseCard</code> or <code>CommandResult</code>, its converted value will be computed and displayed together with its conversion rate and original amount.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following sequence diagram shows how currency conversion works:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/CurrencyConversionSequenceDiagram.png" alt="CurrencyConversionSequenceDiagram">
</div>
</div>
</div>
<div class="sect3">
<h4 id="design-consideration"><a class="link" href="#design-consideration">Design Consideration</a></h4>
<div class="paragraph">
<p>There were 3 main design choices we had to choose from for the implementation of the Currency Conversion Feature.<br></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1:</strong> Do not store currency rates when expenses are added with a selected currency and simply store the currency.<br></p>
<div class="ulist">
<ul>
<li>
<p>Pros: Easy to implement, recompute the amount of the expense based on the present day currency exchange rate.</p>
</li>
<li>
<p>Cons: If there was a crash in any currency, the expense amount will no longer be timeless. For instance, if an expense of of 10 MYR was stored today and was converted to 3 SGD (converted at 3.33), then the exchange rate became 2.0 the following day, the budget would reflect the amount left wrongly when it was recomputed the next day.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Persist all the exchange rates to file every time the app is launched to ensure that the user&#8217;s expenses are computed based on the exchange rate that was on that specific day. The specific exchange rate used is not stored in the expense itself.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Achieve timeless expense which will provide the most accurate values when computing the budget amount left.</p>
</li>
<li>
<p>Cons: Slightly harder to implement as there are multiple sources for exchange rate data based on dates. This will also bloat the amount of space requirement of the app as time persists.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 3:</strong> Store the specific exchange rate used together with the expense whenever it is added, update the exchange rates daily and only persist the latest rates.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Achieve timeless expense which will provide the most accurate values when computing the budget amount left, without the need to store historical exchange rates. Reduced space used and single source of truth for computing exchange rates.</p>
</li>
<li>
<p>Cons: Expenses added in the past that have their currencies changed will not be able to use the exchange rate of that specific day.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Alternative 3</strong> was chosen as it was a balance between the cons across all 3 considerations, and the timelessness of an expense carries more weight than the unlikely event that the user would need to alter the currency of a past expense.</p>
</div>
</div>
</div>
</div>
</div></div><div id="footer"><div class="container"><div id="footer-text">Last updated 2019-11-11 17:53:50 UTC</div></div></div></body></html>